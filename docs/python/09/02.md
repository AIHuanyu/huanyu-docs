### **一、Windows 平台打包**

#### **1. 使用 PyInstaller**
PyInstaller 是最常用的打包工具，支持将 Kivy 应用打包为单个可执行文件（.exe）。

**步骤：**
1. **安装依赖**：
   ```bash
   pip install pyinstaller
   ```
```text
 pip install pyinstaller
Collecting pyinstaller
  Downloading pyinstaller-6.14.2-py3-none-win_amd64.whl.metadata (8.3 kB)
Collecting setuptools>=42.0.0 (from pyinstaller)
  Downloading setuptools-80.9.0-py3-none-any.whl.metadata (6.6 kB)
Collecting altgraph (from pyinstaller)
  Downloading altgraph-0.17.4-py2.py3-none-any.whl.metadata (7.3 kB)
Collecting pefile!=2024.8.26,>=2022.5.30 (from pyinstaller)
  Downloading pefile-2023.2.7-py3-none-any.whl.metadata (1.4 kB)
Collecting pywin32-ctypes>=0.2.1 (from pyinstaller)
  Downloading pywin32_ctypes-0.2.3-py3-none-any.whl.metadata (3.9 kB)
Collecting pyinstaller-hooks-contrib>=2025.5 (from pyinstaller)
  Downloading pyinstaller_hooks_contrib-2025.6-py3-none-any.whl.metadata (16 kB)
Collecting packaging>=22.0 (from pyinstaller)
  Downloading packaging-25.0-py3-none-any.whl.metadata (3.3 kB)
Downloading pyinstaller-6.14.2-py3-none-win_amd64.whl (1.4 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.4/1.4 MB 84.9 kB/s eta 0:00:00
Downloading packaging-25.0-py3-none-any.whl (66 kB)
Downloading pefile-2023.2.7-py3-none-any.whl (71 kB)
Downloading pyinstaller_hooks_contrib-2025.6-py3-none-any.whl (440 kB)
Downloading pywin32_ctypes-0.2.3-py3-none-any.whl (30 kB)
Downloading setuptools-80.9.0-py3-none-any.whl (1.2 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 110.2 kB/s eta 0:00:00
Downloading altgraph-0.17.4-py2.py3-none-any.whl (21 kB)
Installing collected packages: altgraph, setuptools, pywin32-ctypes, pefile, packaging, pyinstaller-hooks-contrib, pyinstaller
Successfully installed altgraph-0.17.4 packaging-25.0 pefile-2023.2.7 pyinstaller-6.14.2 pyinstaller-hooks-contrib-2025.6 pywin32-ctypes-0.2.3 setuptools-80.9.0

[notice] A new release of pip is available: 24.2 -> 25.1.1
[notice] To update, run: python.exe -m pip install --upgrade pip

```
2. **创建 spec 文件**（可选但推荐）：
   ```bash
   pyinstaller --name=myapp --onefile --windowed main.py
   ```
   - `--name`：指定输出文件名
   - `--onefile`：打包为单个文件
   - `--windowed`：不显示命令行窗口（仅 GUI）

```text
pyinstaller --name=myapp --onefile --windowed 01.py
```
在同级包内生成了多个文件。

在dist文件夹里面有myapp.exe，可以运行打开。
3. **编辑 spec 文件**（解决 Kivy 资源问题）：
   ```python
   # 找到生成的 myapp.spec 文件，添加以下内容
   from kivy_deps import sdl2, glew

   a = Analysis(
       ['main.py'],
       pathex=[],
       binaries=[],
       datas=[],
       ...
       # 添加 Kivy 依赖
       binaries=binaries + [
           *collect_dynamic_libs('kivy'),
           *collect_dynamic_libs('kivy_garden'),
       ],
       datas=datas + [
           ('path/to/your/data', 'data'),  # 如果有资源文件
       ],
       ...
   )

   pyz = PYZ(a.pure, a.zipped_data)

   exe = EXE(
       pyz,
       a.scripts,
       a.binaries,
       a.zipfiles,
       a.datas,
       *[Tree(p) for p in (sdl2.dep_bins + glew.dep_bins)],
       name='myapp',
       debug=False,
       bootloader_ignore_signals=False,
       strip=False,
       upx=True,
       console=False  # 不显示命令行窗口
   )
   ```

4. **执行打包**：
   ```bash
   pyinstaller myapp.spec
   ```

5. **常见问题**：
   - 确保 `kivy_deps.sdl2` 和 `kivy_deps.glew` 已安装。
   - 如果图标不显示，手动添加图标文件：`--icon=path/to/icon.ico`


### **二、Android 平台打包**
#### **1. Android 打包（使用 Buildozer）**
Buildozer 是 Kivy 官方推荐的 Android 打包工具。

**步骤：**
1. **安装 Buildozer**：
   ```bash
   pip install buildozer
   ```
```text
 pip install buildozer
Collecting buildozer
  Downloading buildozer-1.5.0-py3-none-any.whl.metadata (139 kB)
Collecting pexpect (from buildozer)
  Downloading pexpect-4.9.0-py2.py3-none-any.whl.metadata (2.5 kB)
Collecting virtualenv (from buildozer)
  Downloading virtualenv-20.31.2-py3-none-any.whl.metadata (4.5 kB)
Collecting sh (from buildozer)
  Downloading sh-2.2.2-py3-none-any.whl.metadata (3.7 kB)
Collecting ptyprocess>=0.5 (from pexpect->buildozer)
  Downloading ptyprocess-0.7.0-py2.py3-none-any.whl.metadata (1.3 kB)
Collecting distlib<1,>=0.3.7 (from virtualenv->buildozer)
  Downloading distlib-0.4.0-py2.py3-none-any.whl.metadata (5.2 kB)
Collecting filelock<4,>=3.12.2 (from virtualenv->buildozer)
  Downloading filelock-3.18.0-py3-none-any.whl.metadata (2.9 kB)
Collecting platformdirs<5,>=3.9.1 (from virtualenv->buildozer)
  Downloading platformdirs-4.3.8-py3-none-any.whl.metadata (12 kB)
Downloading buildozer-1.5.0-py3-none-any.whl (86 kB)
Downloading pexpect-4.9.0-py2.py3-none-any.whl (63 kB)
Downloading sh-2.2.2-py3-none-any.whl (38 kB)
Downloading virtualenv-20.31.2-py3-none-any.whl (6.1 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.1/6.1 MB 93.3 kB/s eta 0:00:00
Downloading distlib-0.4.0-py2.py3-none-any.whl (469 kB)
Downloading filelock-3.18.0-py3-none-any.whl (16 kB)
Downloading platformdirs-4.3.8-py3-none-any.whl (18 kB)
Downloading ptyprocess-0.7.0-py2.py3-none-any.whl (13 kB)
Installing collected packages: ptyprocess, distlib, sh, platformdirs, pexpect, filelock, virtualenv, buildozer
Successfully installed buildozer-1.5.0 distlib-0.4.0 filelock-3.18.0 pexpect-4.9.0 platformdirs-4.3.8 ptyprocess-0.7.0 sh-2.2.2 virtualenv-20.31.2

[notice] A new release of pip is available: 24.2 -> 25.1.1
[notice] To update, run: python.exe -m pip install --upgrade pip
```
2. **初始化配置文件**：
   ```bash
   buildozer init
   ```
```text
buildozer init
File buildozer.spec created, ready to customize!

```
多了一个buildozer.spec文件
3. **编辑 `buildozer.spec`**：
   ```ini
   [app]
   title = My Kivy App
   package.name = myapp
   package.domain = org.example
   source.dir = .
   requirements = python3,kivy
   orientation = portrait
   osx.python_version = 3
   fullscreen = 0
   ```

4. **执行打包**：
   ```bash
   buildozer -v android debug
   ```

5. **生成 APK 文件**：
   ```bash
   buildozer android release
   ```
   
## ndk下载
https://developer.android.google.cn/ndk/downloads?hl=zh-cn

 手动安装（适合进阶用户）
如果自动下载失败（如网络问题），可手动安装并指定路径：

下载 SDK：
从 Android 开发者官网 下载「命令行工具」，解压到本地目录（如 D:\android-sdk）。
下载 NDK：
从 NDK 下载页 下载对应版本（建议 NDK 21 或 25，与 Kivy 兼容性较好），解压到 D:\android-ndk。
配置 Buildozer：
在 buildozer.spec 中指定路径：
ini
[app]
android.sdk_path = D:\android-sdk
android.ndk_path = D:\android-ndk